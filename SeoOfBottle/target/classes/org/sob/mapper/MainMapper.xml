<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="org.sob.mapper.MainMapper">
  <!-- 이하 수정 예정 -->
	  <select id="getList" resultType="org.sob.domain.MainVO">
	  <![CDATA[select * from tbl_board where bno>0]]>	
	  </select>
	  
	  <insert id="insert">
	  	수정예정
	  </insert>
	  
	  <select id="read" resultType="org.sob.domain.MainVO">
	  	select * from tbl_board where bno=#{bno}
	  </select>
	  
	  <delete id="delete">
	  	delete from tbl_board where bno = #{bno}
	  
	  </delete>
	  
	  <select id="getListWithPaging" resultType="org.sob.domain.MainVO">
	 
	  <![CDATA[ select bno,title,writer,regdate,updatedate 
	  from (select rownum rn,bno,title,writer,regdate,updatedate 
	  from (select * from(select*from tbl_board order by bno desc)  
	  where ROWNUM<=#{pageNum}*#{amount}
	  ]]>	
	  <include refid="criteria"></include>
	  <![CDATA[
	  )) where rn > (#{pageNum}-1)*#{amount}
	  ]]>	
                                                                   
	  </select>
	  
	  <select id="getTotalCount" resultType="long">
	  <![CDATA[select count(*) from tbl_board where bno>0]]>
	  <include refid="criteria"></include>
	  </select>
	  
	  
	  
	  
  </mapper>